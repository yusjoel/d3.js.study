<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Enter, Update & Exit</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
<pre>
    在使用data()时，例如现在我们有一个数组[3,6,9,12,15],我们可以将数组每一项与一个&lt;p&gt;绑定，但是，现在就有一个问题——数据集个数和选择集个数不匹配怎么办？这样就需要理解Update、Enter、Exit

    例子一：update和enter：数组[3,6,9,12,15]绑定到三个&lt;p&gt;上。可以想象到，数组的最后两个元素没有可以绑定的元素，这时D3会建立两个空的元素与数组最后的两个数据相对于，那么这部分就称为Enter。而有元素与数据对应的部分就称为Update

    例子二：exit：如果数组[3]绑定到三个&lt;p&gt;上，可以想象，最后两个&lt;p&gt;没有可绑定的数据，那么没有数据绑定的部分就称为Exit

</pre>
<img src="figure.png">

<p>dog</p>
<p>cat</p>
<p>pig</p>

<script>
    	var dataset = [3,6,9,12,15];
        /*
    	var p = d3.select("body")
    		.selectAll("p");
    	var update = p.data(dataset)//绑定数据,并得到update部分
    	var enter = update.enter();//得到enter部分
    	//下面检验是否真的得到
    	//对于update的处理
    	update.text(function(d,i){
    		return "update: "+d+",index: "+i;
    	})
    	//对于enter的处理
    	//注意，这里需要先添加足够多的<p>，然后在添加文本
    	var pEnter = enter.append("p")//添加足够多的<p>
    	pEnter.text(function(d,i){
    		return "enter: "+d+",index: "+i;
    	})
        */
        d3.select("body")
            .selectAll("p")
            .data(dataset)
            .text(function(d,i){
                return "update: "+d+",index: "+i;
            })
            .enter()
            .append("p")
            .text(function(d,i){
                return "enter: "+d+",index: "+i;
            })
</script>
</body>
</html>
